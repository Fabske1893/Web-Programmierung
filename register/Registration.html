<!DOCTYPE html>
<html lang="de">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/functions.js"></script>
    <link rel="stylesheet" href="../css/style.css">
</head>
<Header>
<nav>
    <a href="../Homepage.html">Startseite</a>
</nav>
<br>
</Header>
<body>
    <h1>Rezept und Einkaufslisten App</h1>

    <p>Bitte f√ºlle alle Felder aus: </p> <br/><br/>

    <label> Name:  <input type="text" id="userName"> </label> <br/><br/>
    <label> Deine Email: <input type="email" id="userEmail"> </label> <br/><br/>
    <label> Dein Passwort: <input type="password" id="userPassword"> </label> <br/><br/>

    <br/><br/>
    <button id="registration">Registieren</button>

        <script>
        $("#registration").click(function(){
            var registerUser = {
                username : $("#userName").val(),
                email: $("#userEmail").val(),
                password: $("#userPassword").val()
            };
            console.log("Sending delete on login to BFF with user ...");
            console.log(registerUser);
            $.ajax({
                url : 'https://rezeptappbackend-a9a2cded5f95.herokuapp.com/api/register',
                type : 'post',
                dataType : 'json',
                contentType : 'application/json',
                success : function(data) {
                    alert('Du bist registriert. Du kannst dich nun einloggen.');
                    goToLogin();
                },
                data : JSON.stringify(registerUser),
                processData : false,
                error: function(xhr, ajaxOptions, thrownError) {
                    alert('Du konntest nicht registriert werden.');
                }
            });
        });
    </script>
    
</body>
</html>